/* fisker-blog v1.0.0 | (c) 2019 fisker Cheung | MIT License */
{"version":3,"sources":["app.js"],"names":["global","Function","config","require","Promise","callback","afterPromised","module_","resolve","document","_","now","Date","_toString","Object","prototype","toString","type","object","call","slice","_slice","Array","toArray","from","isArray","isArrayLike","length","parseInt","_forEach","forEach","fn","i","hasOwnProperty","value","key","_forInEach","forIn","_map","map","array","_filter","filter","result","filted","push","assign","target","arguments","source","hash","parse","pieces","split","data","decodeURIComponent","build","concat","encodeURIComponent","sort","join","search","localforage","setItem","then","getItem","markdown","code","options","all","mods","marked","highlight","setOptions","lang","getLanguage","highlightAuto","escapeHtmlChar","reUnescapedHtml","escape","s","replace","c","templates","github","newToken","token","remaining","reset","randomId","Math","random","request","path","params","gc","head","removeChild","script","window","callbackName","createElement","access_token","src","GITHUB_ISSUES_API_BASE","appendChild","reject","response","onerror","error","handleResponse","Error","message","meta","resetTokenRemaining","anonymousToken","rest","getToken","tokens","requestWithToken","getElementsByTagName","accessTokens","url","api","repoId","owner","repo","get","index","cached","page","expireTime","pageSize","pages","time","fetch","per_page","storage","article","Link","ETag","item","created_at","title","number","cache","render","id","body","html","app","showHTML","container","innerHTML","showError","console","trace","showIndex","name","showArticle","showLoading","showPage","query","location","promise","label","alert","history","go","getElementById","run","addEventListener"],"mappings":"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","file":"../app.js","sourcesContent":["\n;(function() {\n  const global = Function('return this')()\n  const config = {\n  \"api\": \"//api.github.com\",\n  \"accessTokens\": [\n    [\n      \"5\",\n      \"a41e75c8b2\",\n      \"2c70d70b08ae21\",\n      \"5cd774758e3b8b0\"\n    ]\n  ],\n  \"cache\": {\n    \"index\": 5000,\n    \"article\": 60000\n  },\n  \"name\": \"fisker's blog\",\n  \"owner\": \"fisker\",\n  \"repo\": \"blog\",\n  \"pageSize\": 30,\n  \"require\": {\n    \"paths\": {\n      \"marked\": \"//cdn.bootcss.com/marked/0.7.0/marked.min\",\n      \"highlight-js\": \"//cdn.bootcss.com/highlight.js/9.15.8/highlight.min\",\n      \"es6-promise\": \"//cdn.bootcss.com/es6-promise/4.1.1/es6-promise.min\",\n      \"localforage\": \"//cdn.bootcss.com/localforage/1.7.3/localforage.min\"\n    }\n  }\n}\n  const require = global.require\n\n  require.config(config.require)\n\n  let Promise = global.Promise\n  ;(function(callback) {\n    /* global callback: true */\nif (!Promise) {\n  require(['es6-promise'], function(module_) {\n    // eslint-disable-next-line no-global-assign\n    Promise = module_.Promise\n    afterPromised()\n  })\n} else {\n  afterPromised()\n}\n\nfunction afterPromised() {\n  callback(function(module_) {\n    return new Promise(function(resolve, reject) {\n      require([module_], function(module_) {\n        resolve(module_)\n      })\n    })\n  })\n}\n\n  })\n  (function(require) {\n    const document = global.document\n\n    const _ = (function() {\n  const _ = global._ || (global._ = {})\n\n  _.now =\n    Date.now ||\n    function() {\n      return Number(new Date())\n    }\n\n  _.require = require\n  _.Promise = Promise\n\n  const _toString = Object.prototype.toString\n  _.type = function(object) {\n    return _toString.call(object).slice(7, -1)\n  }\n\n  const _slice = Array.prototype.slice\n  _.toArray =\n    Array.from ||\n    function(object) {\n      return _slice.call(object)\n    }\n\n  _.isArray =\n    Array.isArray ||\n    function(object) {\n      return _.type(object) === 'Array'\n    }\n\n  _.isArrayLike = function(object) {\n    return (\n      _.isArray(object) ||\n      (object &&\n        _.type(object.length) === 'Number' &&\n        parseInt(object.length, 10) === object.length)\n    )\n  }\n\n  const _forEach =\n    Array.prototype.forEach ||\n    function(fn) {\n      for (let i = 0; i < this.length; i += 1) {\n        fn.call(this, this[i], i, this)\n      }\n    }\n\n  const hasOwnProperty = function(value, key) {\n    return (\n      typeof value !== 'undefined' &&\n      value !== null &&\n      Object.prototype.hasOwnProperty.call(value, key)\n    )\n  }\n\n  const _forInEach = function(object, fn) {\n    for (const key in object) {\n      if (hasOwnProperty(object, key)) {\n        fn.call(object, object[key], key, object)\n      }\n    }\n  }\n\n  _.forIn = _forInEach\n\n  _.forEach = function(object, fn) {\n    ;(_.isArrayLike(object) ? _forEach : _forInEach).call(object, fn)\n  }\n\n  const _map =\n    Array.prototype.map ||\n    function(fn) {\n      const array = []\n      for (let i = 0; i < this.length; i += 1) {\n        array[i] = fn.call(this, this[i], i, this)\n      }\n\n      return array\n    }\n\n  _.map = function(object, fn) {\n    return _map.call(object, fn)\n  }\n\n  const _filter =\n    Array.prototype.filter ||\n    function(fn) {\n      const filted = []\n      for (let i = 0; i < this.length; i += 1) {\n        const result = fn.call(this, this[i], i, this)\n        if (result) {\n          filted.push(this[i])\n        }\n      }\n      return filted\n    }\n\n  _.filter = function(object, fn) {\n    return _filter.call(object, fn)\n  }\n\n  _.assign =\n    Object.assign ||\n    function(target) {\n      // eslint-disable-next-line prefer-rest-params\n      _.forEach(_slice.call(arguments, 1), function(source) {\n        _.forEach(source, function(value, key) {\n          target[key] = value\n        })\n      })\n\n      return target\n    }\n\n  _.hash = (function() {\n    function parseHash(hash) {\n      hash = hash.slice(2)\n      const pieces = hash ? hash.split('/') : []\n      const data = {}\n\n      for (let i = 0; i < pieces.length; i += 2) {\n        data[decodeURIComponent(pieces[i])] = decodeURIComponent(\n          pieces[i + 1] || ''\n        )\n      }\n\n      return data\n    }\n\n    function hashLink(data) {\n      const hash = []\n      _forInEach(data, function(value, key) {\n        hash.push(`${encodeURIComponent(key)}/${encodeURIComponent(value)}`)\n      })\n\n      return `#/${hash.sort().join('/')}`\n    }\n\n    return {\n      parse: parseHash,\n      build: hashLink,\n    }\n  })()\n\n  _.search = (function() {\n    function buildQuery(data) {\n      const search = []\n      _forInEach(data, function(value, key) {\n        search.push(`${encodeURIComponent(key)}=${encodeURIComponent(value)}`)\n      })\n\n      return search.join('&')\n    }\n\n    return {\n      build: buildQuery,\n    }\n  })()\n\n  // const templateCompiled = {}\n  // const templateOptions = {\n  //   _: _,\n  //   config: config\n  // }\n\n  // _.template = (function(template) {\n  //   if (templateCompiled[template]) {\n  //     return templateCompiled[template]\n  //   }\n  //   return require('lodash.template')\n  //     .then(function(engine) {\n  //       return templateCompiled[template] = engine(template, templateOptions)\n  //     })\n  // })\n\n  // _.render = function(template) {\n  //   return function(data) {\n  //     return Promise.resolve(_.template(template)).then(function(compiled) {\n  //       return compiled(data)\n  //     })\n  //   }\n  // }\n\n  _.localforage = (function() {\n    function setItem(key, value) {\n      return require('localforage').then(function(localforage) {\n        return localforage.setItem(key, value)\n      })\n    }\n\n    function getItem(key) {\n      return require('localforage').then(function(localforage) {\n        return localforage.getItem(key)\n      })\n    }\n\n    return {\n      setItem,\n      getItem,\n    }\n  })()\n\n  _.markdown = function(code, options) {\n    // eslint-disable-next-line import/no-unresolved\n    return Promise.all([require('marked'), require('highlight-js')]).then(\n      function(mods) {\n        const marked = mods[0]\n        const highlight = mods[1]\n        marked.setOptions({\n          highlight(code, lang) {\n            if (lang && highlight.getLanguage(lang)) {\n              return highlight.highlight(lang, code).value\n            }\n            return highlight.highlightAuto(code).value\n          },\n        })\n\n        return marked(code, options)\n      }\n    )\n  }\n\n  const escapeHtmlChar = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '`': '&#96;',\n  }\n  const reUnescapedHtml = /[&<>\"'`]/g\n  _.escape = function(s) {\n    return `${s}`.replace(reUnescapedHtml, function(c) {\n      return escapeHtmlChar[c]\n    })\n  }\n\n  return _\n})()\n\n    // avoid use with in strict mode\n    \n    \n    const templates = Function('config', \"return (function(){\\n  var undefined;\\n\\n  var freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\\n\\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\\n\\n  var root = freeGlobal || freeSelf || Function('return this')();\\n\\n  var freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\\n\\n  var freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\\n\\n  var _ = root._ || {};\\n\\n  /*----------------------------------------------------------------------------*/\\n\\n  var templates = {\\n    'article': {},\\n    'index': {}\\n  };\\n\\n  templates['article'] =   function(obj) {\\n    obj || (obj = {});\\n    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;\\n    function print() { __p += __j.call(arguments, '') }\\n    with (obj) {\\n    __p += '<article class=\\\"article\\\"><h1 class=\\\"article__title\\\">' +\\n    __e( data.title ) +\\n    '</h1><header class=\\\"article__author\\\"><!-- <img class=\\\"article__author-avatar\\\" src=\\\"' +\\n    ((__t = ( data.user.avatar_url + '&s=40' )) == null ? '' : __t) +\\n    '\\\"> --><div>' +\\n    __e( data.created_at ) +\\n    '</div></header><hr><div class=\\\"markdown-body\\\">' +\\n    ((__t = ( data.html )) == null ? '' : __t) +\\n    '</div><footer>';\\n     data.labels.forEach(function(label) {\\n    __p += '<a href=\\\"' +\\n    ((__t = ( _.hash.build({label: label.name}) )) == null ? '' : __t) +\\n    '\\\" style=\\\"background:#' +\\n    ((__t = ( label.color)) == null ? '' : __t) +\\n    '\\\">' +\\n    __e( label.name) +\\n    '</a>';\\n     });\\n    __p += '</footer></article>';\\n\\n    }\\n    return __p\\n  };\\n\\n  templates['index'] =   function(obj) {\\n    obj || (obj = {});\\n    var __t, __p = '', __e = _.escape, __j = Array.prototype.join;\\n    function print() { __p += __j.call(arguments, '') }\\n    with (obj) {\\n    __p += '<h1>' +\\n    __e( config.name ) +\\n    '</h1><hr><ul class=\\\"list\\\">';\\n     data.forEach(function(article) {\\n    __p += '<li class=\\\"list__item\\\"><a class=\\\"list__title\\\" href=\\\"' +\\n    __e( _.hash.build({id: article.number}) ) +\\n    '\\\">' +\\n    __e( article.title ) +\\n    '</a><div class=\\\"list__meta\\\"> #' +\\n    __e( article.number ) +\\n    ' posted at <time class=\\\"list__time\\\" datetime=\\\"' +\\n    __e( article.created_at ) +\\n    '\\\">' +\\n    __e( article.created_at ) +\\n    '</time></div></li>';\\n     }) ;\\n    __p += '</ul>';\\n     if (meta.Link) {\\n    __p += '<hr><nav class=\\\"pagination\\\">';\\n\\n          meta.Link.forEach(function(link) {\\n          var pageIndex = link[0].match(/[?&]page=(\\\\d+)/)[1]\\n    __p += '<a href=\\\"' +\\n    __e( _.hash.build({page: pageIndex}) ) +\\n    '\\\" title=\\\"' +\\n    __e( link[1].rel ) +\\n    '\\\">' +\\n    __e( link[1].rel ) +\\n    '</a>';\\n     }) ;\\n    __p += '</nav>';\\n     }\\n\\n    }\\n    return __p\\n  };\\n;return templates})()\")(config)\n\n    /* global config: true, _: true */\nconst github = (function() {\n  const head = document.head || document.getElementsByTagName('head')[0]\n  const ANONYMOUS_TOKEN_LIMIT = 60\n  const ASSUME_TOKEN_LIMIT = 5000\n  const timeDiff = 0\n  const anonymousToken = newToken('')\n  const tokens = _.map(config.accessTokens, function(token) {\n    if (_.isArray(token)) {\n      token = token.join('')\n    }\n\n    return newToken(token)\n  })\n\n  const GITHUB_ISSUES_API_BASE = (function() {\n    let url = [config.api]\n    if (config.repoId) {\n      url = url.concat(['repositories', config.repoId])\n    } else {\n      url = url.concat(['repos', config.owner, config.repo])\n    }\n    url.push('issues')\n\n    return url.join('/')\n  })()\n\n  function newToken(token) {\n    return {\n      token,\n      remaining: token ? ASSUME_TOKEN_LIMIT : ANONYMOUS_TOKEN_LIMIT,\n      reset: 0,\n    }\n  }\n\n  function randomId() {\n    return (Math.random() * _.now())\n      .toString(16)\n      .replace('.', '')\n      .slice(0, 6)\n  }\n\n  function request(path, params, token) {\n    token = token || {}\n    const callbackName = `jsonp_${randomId()}`\n    const script = document.createElement('script')\n    params = _.assign({}, params, {\n      callback: callbackName,\n    })\n\n    if (token.token) {\n      params.access_token = token.token\n    }\n\n    script.src = `${GITHUB_ISSUES_API_BASE + path}?${_.search.build(params)}`\n    head.appendChild(script)\n\n    function gc() {\n      head.removeChild(script)\n      window[callbackName] = null\n    }\n\n    return new Promise(function(resolve, reject) {\n      window[callbackName] = function(response) {\n        resolve(response)\n        gc()\n      }\n      script.onerror = function(error) {\n        reject(error)\n        gc()\n      }\n    }).then(function(data) {\n      return handleResponse(data, token)\n    })\n  }\n\n  function handleResponse(response, token) {\n    if (!response || !response.data) {\n      return Promise.reject(new Error('no data found.'))\n    }\n\n    if (response.data.message) {\n      return Promise.reject(response.data.message)\n    }\n\n    const {meta} = response\n    if (meta) {\n      const remaining = meta['X-RateLimit-Remaining']\n      const reset = meta['X-RateLimit-Reset']\n\n      if (remaining) {\n        token.remaining = parseInt(remaining, 10)\n      }\n\n      if (reset) {\n        token.reset = parseInt(remaining, 10) * 1000\n      }\n    }\n\n    return response\n  }\n\n  function resetTokenRemaining(token) {\n    if (!token.remaining) {\n      if (_.now() - anonymousToken.rest > 2 * 1000 * 1000) {\n        token.remaining = ASSUME_TOKEN_LIMIT\n      }\n    }\n\n    return token\n  }\n\n  function getToken() {\n    _.forEach(tokens, resetTokenRemaining)\n    return _.filter(tokens, function(token) {\n      return token.remaining\n    })[0]\n  }\n\n  function requestWithToken(path, params) {\n    const token = getToken()\n\n    return token\n      ? request(path, params, token)\n      : Promise.reject(new Error('no token'))\n  }\n\n  function get(path, params) {\n    resetTokenRemaining(anonymousToken)\n\n    if (anonymousToken.remaining) {\n      return request(path, params, anonymousToken).catch(function() {\n        return requestWithToken(path, params)\n      })\n    }\n    return requestWithToken(path, params)\n  }\n\n  return {\n    get,\n  }\n})()\n\n    /* global config: true, _: true, templates: true, github: true, article: true */\nconst index = (function() {\n  const INDEX_STORAGE_KEY = 'index'\n  const expireTime = ((config.cache && config.cache.index) || 0) * 1000\n  const render = templates.index\n\n  function cached(page) {\n    if (!expireTime) {\n      return\n    }\n    return _.localforage.getItem(INDEX_STORAGE_KEY).then(function(cached) {\n      if (!cached || cached.pageSize !== config.pageSize) {\n        return\n      }\n      const data = cached.pages[page - 1]\n      if (!data || !data.time || _.now() - data.time > expireTime) {\n        return\n      }\n      return data\n    })\n  }\n\n  function fetch(page) {\n    return github\n      .get('', {\n        page,\n        per_page: config.pageSize,\n      })\n      .then(function(data) {\n        storage(data, page)\n        return data\n      })\n  }\n\n  function storage(data, page) {\n    article.storage({\n      data: data.data,\n    })\n\n    if (!expireTime) {\n      return data\n    }\n    return _.localforage\n      .getItem(INDEX_STORAGE_KEY)\n      .then(function(cached) {\n        if (!cached || cached.pageSize !== config.pageSize) {\n          cached = {\n            pages: [],\n            pageSize: config.pageSize,\n          }\n        }\n\n        cached.pages[page - 1] = {\n          meta: {\n            Link: data.meta.Link,\n            ETag: data.meta.ETag,\n          },\n          time: _.now(),\n          data: [],\n        }\n\n        cached.pages[page - 1].data = data.data.map(function(item) {\n          return {\n            created_at: item.created_at,\n            title: item.title,\n            number: item.number,\n          }\n        })\n\n        cached.time = _.now()\n\n        return cached\n      })\n      .then(function(cached) {\n        return _.localforage.setItem(INDEX_STORAGE_KEY, cached)\n      })\n      .then(function() {\n        return data\n      })\n  }\n\n  function get(page) {\n    page = parseInt(page, 10) || 1\n    if (page < 1) {\n      page = 1\n    }\n\n    return Promise.resolve()\n      .then(function() {\n        return cached(page)\n      })\n      .then(function(data) {\n        return data || fetch(page)\n      })\n  }\n\n  return {\n    get,\n    storage,\n    render,\n  }\n})()\n\n    /* global _: true, config: true, templates: true, github: true */\nconst article = (function() {\n  const ARTICLES_STORAGE_KEY = 'articles'\n  const expireTime = ((config.cache && config.cache.article) || 0) * 1000\n  const render = templates.article\n\n  function cached(id) {\n    if (!expireTime) {\n      return\n    }\n\n    return _.localforage.getItem(ARTICLES_STORAGE_KEY).then(function(cached) {\n      const data = cached && cached[id]\n      if (!data || !data.time || _.now() - data.time > expireTime) {\n        return\n      }\n      return data\n    })\n  }\n\n  function fetch(id) {\n    return github.get(`/${id}`).then(function(data) {\n      storage(data)\n      return data\n    })\n  }\n\n  function storage(data) {\n    if (!expireTime) {\n      return data\n    }\n\n    return _.localforage\n      .getItem(ARTICLES_STORAGE_KEY)\n      .then(function(cached) {\n        cached = cached || {}\n\n        if (data.data.forEach) {\n          data.data.forEach(function(item) {\n            cached[item.number] = {\n              data: item,\n              id: item.number,\n              time: _.now(),\n              meta: {\n                ETag: data.meta && data.meta.ETag,\n              },\n            }\n          })\n        } else {\n          cached[data.data.number] = {\n            data: data.data,\n            id: data.data.number,\n            time: _.now(),\n            meta: {\n              ETag: data.meta && data.meta.ETag,\n            },\n          }\n        }\n\n        return cached\n      })\n      .then(function(cached) {\n        return _.localforage.setItem(ARTICLES_STORAGE_KEY, cached)\n      })\n      .then(function() {\n        return data\n      })\n  }\n\n  function get(id) {\n    id = Number(id)\n\n    return Promise.resolve()\n      .then(function() {\n        return cached(id)\n      })\n      .then(function(data) {\n        return data || fetch(id)\n      })\n      .then(function(data) {\n        return _.markdown(data.data.body).then(function(html) {\n          data.data.html = html\n          return data\n        })\n      })\n  }\n\n  return {\n    get,\n    storage,\n    render,\n  }\n})()\n\n    /* global config: true, _: true, article: true, index: true */\nconst app = (function() {\n  const container = document.getElementById('js-app')\n\n  function showHTML(html) {\n    container.innerHTML = html\n  }\n\n  function showError(error) {\n    console.trace(error)\n    container.innerHTML =\n      'error occured <button onclick=\"location.reload()\">retry</button>'\n  }\n\n  function showIndex(page) {\n    document.title = config.name\n    return index.get(page).then(index.render)\n  }\n\n  function showArticle(id) {\n    return article\n      .get(id)\n      .then(function(data) {\n        document.title = data.data.title\n        return data\n      })\n      .then(article.render)\n  }\n\n  function showLoading() {\n    container.innerHTML = 'loading...'\n  }\n\n  function showPage() {\n    const query = _.hash.parse(window.location.hash)\n    showLoading()\n    let promise\n\n    if (query.id) {\n      promise = showArticle(query.id)\n    } else if (query.label) {\n      alert('暂时不支持标签')\n      window.history.go(-1)\n      return\n    } else {\n      promise = showIndex(query.page)\n    }\n\n    return promise.then(showHTML).catch(showError)\n  }\n\n  function run() {\n    showPage()\n    window.addEventListener('hashchange', showPage, false)\n  }\n\n  return {\n    run,\n  }\n})()\n\n\n    app.run()\n  })\n})()\n"]}